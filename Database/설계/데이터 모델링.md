# 데이터 모델링 (Data Modeling)

## 개념

비즈니스 요구사항을 분석하여 데이터베이스 구조를 설계하는 과정

## 모델링 3단계

### 1. 개념적 모델링 (Conceptual)

**목적**: 업무 중심의 전체 구조 파악

**특징**:
- 주요 엔티티와 관계 정의
- 기술적 세부사항 배제
- ERD로 표현

**예시**:
```
[고객] ─ 주문 ─ [주문] ─ 포함 ─ [상품]
```

### 2. 논리적 모델링 (Logical)

**목적**: 개념 모델을 구체화 (DBMS 독립적)

**특징**:
- 속성(컬럼) 정의
- 기본키/외래키 설정
- 정규화 수행

**예시**:
```
고객 (고객ID, 이름, 전화번호)
주문 (주문ID, 주문일자, 고객ID*)
주문상세 (주문ID*, 상품ID*, 수량)
상품 (상품ID, 상품명, 가격)
```

### 3. 물리적 모델링 (Physical)

**목적**: 실제 DB 구현 (DBMS 종속적)

**특징**:
- 데이터 타입 결정
- 인덱스, 파티셔닝 설계
- 성능 최적화

**예시**:
```sql
CREATE TABLE customers (
    customer_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL,
    phone VARCHAR(20),
    INDEX idx_name (name)
) ENGINE=InnoDB;
```

## 단계별 비교

| 단계 | 산출물 | 대상자 | DBMS 의존성 |
|------|-------|-------|------------|
| 개념적 | ERD | 업무 분석가 | 독립적 |
| 논리적 | 정규화 테이블 | 설계자 | 독립적 |
| 물리적 | DDL | 개발자/DBA | 의존적 |

## 주요 용어

### 엔티티 (Entity)
저장할 대상 (예: 고객, 주문, 상품)

### 속성 (Attribute)
엔티티의 특성 (예: 이름, 가격, 수량)

### 관계 (Relationship)
엔티티 간 연관성

**관계 차수**:
```
1:1    고객 ─ 회원카드
1:N    부서 ─< 직원
N:M    학생 >─< 과목
```

### 키 (Key)

| 키 종류 | 설명 | 예시 |
|---------|------|------|
| 기본키 (PK) | 행 유일 식별 | 주문ID |
| 외래키 (FK) | 다른 테이블 참조 | 고객ID |
| 복합키 | 2개 이상 조합 | (주문ID, 상품ID) |

## ERD 표기법

### Crow's Foot
```
고객 ||──o{ 주문 }o──|| 상품

|| : 1 (필수)
|o : 0 또는 1
}o : 0 이상
}| : 1 이상
```

## 정규화 (Normalization)

데이터 중복 제거 및 무결성 보장

| 단계 | 조건 | 예시 |
|------|------|------|
| 1NF | 원자값 | 반복 컬럼 제거 |
| 2NF | 완전 함수 종속 | 부분 종속 제거 |
| 3NF | 이행 종속 제거 | 간접 종속 제거 |
| BCNF | 결정자 = 후보키 | 모든 결정자 분리 |

**정규화 예시**:
```
-- 비정규화
주문 (주문ID, 고객명, 고객전화, 상품명, 가격)

-- 정규화 후
고객 (고객ID, 이름, 전화)
주문 (주문ID, 고객ID*)
주문상세 (주문ID*, 상품ID*)
상품 (상품ID, 상품명, 가격)
```

## 모델링 원칙

1. **완전성**: 모든 요구사항 반영
2. **정확성**: 업무 규칙 정확히 표현
3. **간결성**: 불필요한 복잡도 제거
4. **일관성**: 표기법 통일

## 참고 자료

- [ERD 작성 - ERDCloud](https://www.erdcloud.com/)